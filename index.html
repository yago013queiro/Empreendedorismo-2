<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MENTECH.AI â€” Estudos & ProgramaÃ§Ã£o</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="navbar">
    <div class="brand" id="brand-logo" role="button" title="Ir para a pÃ¡gina inicial">
      <div class="logo-ico">ğŸ¤–</div>
      <div class="brand-text">MENTECH.IA<span>AI</span></div>
    </div>

    <div class="nav-actions">
      <button id="toggle-theme" title="Trocar tema">ğŸŒ—</button>
      <button id="inc-font" title="Aumentar fonte">A+</button>
      <button id="dec-font" title="Diminuir fonte">A-</button>
      <nav class="mini-nav">
        <button class="nav-link" onclick="goToPage('page-home')">Home</button>
        <button class="nav-link" onclick="goToPage('page-areas')">Ver Ã¡reas</button>
        <button class="nav-link" onclick="goToPage('page-escolha')">Escolher</button>
        <button class="nav-link" id="nav-chat" onclick="prepareChat()">Chat</button>
      </nav>
    </div>
  </header>

  <main id="app">
    <!-- LOGIN -->
    <section class="page active" id="page-login" data-page="login">
      <div class="panel center large">
        <h2>Bem-vindo Ã  <span>MENTECH.AI</span></h2>
        <p class="muted">Crie uma conta ou siga como convidado</p>

        <div class="auth-row">
          <button class="btn large" onclick="goToPage('page-home')">Continuar como convidado</button>
          <div class="or">ou</div>
          <button class="btn outline" onclick="alert('Login visual â€” implementÃ¡vel depois')">Entrar com Google</button>
        </div>
        <small class="muted">AutenticaÃ§Ã£o real nÃ£o implementada (protÃ³tipo).</small>
      </div>
    </section>

    <!-- HOME -->
    <section class="page" id="page-home" data-page="home">
      <div class="hero big">
        <div class="hero-left">
          <h1>Bem-vindo(a) Ã  <span>MENTECH.AI</span></h1>
          <p class="lead">ExplicaÃ§Ãµes, linguagens de programaÃ§Ã£o e dicas de estudos para estudantes. Escolha sua Ã¡rea e nÃ³s iremos ajudar vocÃª.</p>

          <div class="hero-cta">
            <button class="btn large" onclick="goToPage('page-areas')">Ver as Ã¡reas</button>
            <button class="btn outline large" onclick="goToPage('page-escolha')">ComeÃ§ar</button>
          </div>
        </div>
        <div class="hero-right">
          <div class="depth-box"><div class="depth-inner"></div></div>
          <div class="hero-visual">
            <img src="https://images.unsplash.com/photo-1542751371-adc38448a05e?q=80&w=1400&auto=format&fit=crop&ixlib=rb-4.0.3" alt="ai art">
            <div class="hero-badges">
              <span>âœ”ï¸ IA integrada</span>
              <span>âš¡ Exemplos reais</span>
              <span>ğŸ¯ Foco em aprendizado</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ESCOLHA -->
    <section class="page" id="page-escolha" data-page="escolha">
      <h2>Escolha sua Ã¡rea</h2>
      <div class="grid-choices large">
        <article class="choice-card" onclick="setArea('programacao'); goToPage('page-programacao')">
          <img src="https://cdn.pixabay.com/photo/2016/11/19/14/00/code-1839406_1280.jpg" alt="ProgramaÃ§Ã£o">
          <h3>ProgramaÃ§Ã£o</h3>
        </article>

        <article class="choice-card" onclick="setArea('materias'); goToPage('page-nivel')">
          <img src="https://cdn.pixabay.com/photo/2016/03/27/07/08/blackboard-1282765_1280.jpg" alt="Outras matÃ©rias">
          <h3>MatÃ©rias gerais</h3>
        </article>

        <article class="choice-card" onclick="setArea('estudo'); goToPage('page-nivel')">
          <img src="https://cdn.pixabay.com/photo/2015/09/05/21/51/study-925589_1280.jpg" alt="Dicas de estudo">
          <h3>Dicas de estudo</h3>
        </article>
      </div>
      <div class="pager">
        <button class="btn outline" onclick="goToPage('page-home')">â† Voltar</button>
      </div>
    </section>

    <!-- PROGRAMACAO -->
    <section class="page" id="page-programacao" data-page="programacao">
      <h2>ProgramaÃ§Ã£o â€” Escolha a linguagem</h2>
      <div class="langs-grid">
        <div class="lang-card" onclick="setLinguagem('C'); goToPage('page-nivel')">
          <img src="https://cdn.pixabay.com/photo/2016/06/06/17/05/c-programming-1436536_1280.jpg" alt="C">
          <div class="lang-info"><h3>C</h3></div>
        </div>
        <div class="lang-card" onclick="setLinguagem('Java'); goToPage('page-nivel')">
          <img src="https://images.unsplash.com/photo-1547658719-da2b51169166?q=80&w=1400&auto=format&fit=crop" alt="Java">
          <div class="lang-info"><h3>Java</h3></div>
        </div>
        <div class="lang-card" onclick="setLinguagem('Python'); goToPage('page-nivel')">
          <img src="https://cdn.pixabay.com/photo/2015/01/08/18/29/entrepreneur-593358_1280.jpg" alt="Python">
          <div class="lang-info"><h3>Python</h3></div>
        </div>
      </div>
      <div class="pager">
        <button class="btn outline" onclick="goToPage('page-escolha')">â† Voltar</button>
      </div>
    </section>

    <!-- NÃVEL -->
    <section class="page" id="page-nivel" data-page="nivel">
      <h2>Qual seu nÃ­vel?</h2>
      <div class="nivel-grid">
        <div class="nivel-card" onclick="setNivel('medio')">ğŸ“ Ensino MÃ©dio</div>
        <div class="nivel-card" onclick="setNivel('faculdade')">ğŸ›ï¸ Faculdade</div>
      </div>
      <div class="pager">
        <button class="btn outline" onclick="goToPage('page-escolha')">â† Voltar</button>
        <button class="btn" onclick="goToPage('page-chat')">Ir para chat â†’</button>
      </div>
    </section>

    <!-- CHAT -->
    <section class="page" id="page-chat" data-page="chat">
      <div class="chat-wrap large">
        <header class="chat-top">
          <div class="chat-title">
            <div class="avatar">ğŸ¤–</div>
            <div>
              <h3>MENTECH.AI</h3>
              <small class="chat-sub">Assistente Inteligente</small>
            </div>
          </div>
          <div class="chat-info">
            <div class="chip">Ãrea: <span id="chip-area">â€”</span></div>
            <div class="chip">Linguagem: <span id="chip-lang">â€”</span></div>
            <div class="chip">NÃ­vel: <span id="chip-level">â€”</span></div>
          </div>
        </header>

        <div class="chat-box" id="chat-box"></div>

        <div class="chat-input">
          <input id="user-input" placeholder="Digite sua pergunta..." autocomplete="off">
          <button id="send-btn">Enviar</button>
        </div>

        <div class="chat-actions">
          <button class="btn outline" onclick="goToPage('page-escolha')">Escolher novamente</button>
          <button class="btn danger" onclick="clearChat()">Limpar chat</button>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <small>Â© 2025 MENTECH.AI â€” Equipe 1Â° InformÃ¡tica</small>
  </footer>

  <script src="ai.js"></script>

  <script>
  const state = { area: null, linguagem: null, nivel: null };

  function goToPage(id){
    document.querySelectorAll('.page').forEach(p=>{
      p.classList.remove('active');
      if (p.id===id) p.classList.add('active');
    });
    updateChips();
    window.scrollTo({top:0, behavior:'smooth'});
    if (id==='page-chat') startChatIntro();
  }

  function setArea(a){ state.area=a; updateChips(); }
  function setLinguagem(l){ state.linguagem=l; updateChips(); }
  function setNivel(n){ state.nivel=n; updateChips(); }

  function updateChips(){
    document.getElementById('chip-area').textContent = state.area || 'â€”';
    document.getElementById('chip-lang').textContent = state.linguagem || 'â€”';
    document.getElementById('chip-level').textContent = state.nivel || 'â€”';
  }

  const chatBox=document.getElementById('chat-box');
  const input=document.getElementById('user-input');
  const sendBtn=document.getElementById('send-btn');

  function addMessage(text, who='ai'){
    const wrapper=document.createElement('div');
    wrapper.className='message '+who;
    const bubble=document.createElement('div');
    bubble.className='bubble';
    bubble.innerHTML='<p>'+text.replace(/\n/g,'<br>')+'</p>';
    if(who==='ai'){
      wrapper.innerHTML='<div class="avatar-mini">ğŸ¤–</div>';
      wrapper.appendChild(bubble);
    }else wrapper.appendChild(bubble);
    chatBox.appendChild(wrapper);
    chatBox.scrollTop=chatBox.scrollHeight;
  }

  function simulateTyping(callback,time=900){
    const t=document.createElement('div');
    t.className='typing';
    t.textContent='Digitando...';
    chatBox.appendChild(t);
    chatBox.scrollTop=chatBox.scrollHeight;
    setTimeout(()=>{t.remove();callback();},time);
  }

  async function sendMessage(){
    if(!input) return;
    const txt=input.value.trim();
    if(!txt) return;
    addMessage(txt,'user');
    input.value='';
    simulateTyping(async ()=>{
      const resp=await askGemini(txt);
      if(!resp) addMessage("âŒ NÃ£o consegui conectar Ã  IA. Tente novamente mais tarde.",'ai');
      else addMessage(resp,'ai');
    },1200);
  }

  async function startChatIntro(){
    if(!chatBox) return;
    if(chatBox.children.length<1){
      simulateTyping(async ()=>{
        const ok=await checkIAStatus();
        if(ok) addMessage("OlÃ¡! Falaremos sobre o quÃª hoje?","ai");
        else addMessage("âš ï¸ A IA parece estar offline no momento. Tente novamente mais tarde.","ai");
      },1000);
    }
  }

  function clearChat(){
    chatBox.innerHTML='';
    startChatIntro();
  }

  function prepareChat(){
    if(!state.area){alert('Escolha antes a Ã¡rea.');goToPage('page-escolha');return;}
    if(state.area==='programacao'&&!state.linguagem){alert('Escolha a linguagem.');goToPage('page-programacao');return;}
    if(!state.nivel){goToPage('page-nivel');return;}
    goToPage('page-chat');
  }

  document.addEventListener('DOMContentLoaded',()=>{
    document.getElementById('brand-logo').addEventListener('click',()=>goToPage('page-home'));
    document.getElementById('send-btn').addEventListener('click',sendMessage);
    document.getElementById('user-input').addEventListener('keypress',e=>{if(e.key==='Enter')sendMessage();});
  });
  </script>
</body>
</html>
